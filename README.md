# æ‚¬æµ®æ—¶é—´ â±ï¸

<div align="center">

[![æ„å»ºçŠ¶æ€](https://github.com/yourusername/floating-time/actions/workflows/build.yml/badge.svg)](https://github.com/yourusername/floating-time/actions)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![React Native](https://img.shields.io/badge/React%20Native-0.73-blue.svg)](https://reactnative.dev/)

ä¸€ä¸ªç²¾ç¡®åˆ°æ¯«ç§’çš„æ‚¬æµ®æ—¶é—´æ˜¾ç¤ºåº”ç”¨ï¼Œæ”¯æŒ Android å’Œ iOS å¹³å°

[åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§) â€¢
[å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹) â€¢
[æ„å»ºæŒ‡å—](#æ„å»ºæŒ‡å—) â€¢
[éƒ¨ç½²æ–‡æ¡£](#éƒ¨ç½²æ–‡æ¡£) â€¢
[å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

</div>

---

## ğŸ“± åŠŸèƒ½ç‰¹æ€§

- â±ï¸ **æ¯«ç§’ç²¾åº¦**: æ˜¾ç¤ºç²¾ç¡®åˆ°æ¯«ç§’çš„æ—¶é—´ï¼Œæ»¡è¶³é«˜ç²¾åº¦éœ€æ±‚
- ğŸŒ **ç½‘ç»œåŒæ­¥**: è‡ªåŠ¨åŒæ­¥ç½‘ç»œæ—¶é—´æœåŠ¡å™¨ï¼Œç¡®ä¿æ—¶é—´å‡†ç¡®æ€§
- ğŸ“ **æ‚¬æµ®æ˜¾ç¤º**: å¯æ‹–åŠ¨çš„æ‚¬æµ®çª—å£ï¼Œä¸å½±å“å…¶ä»–åº”ç”¨ä½¿ç”¨
- ğŸ¨ **ç¾è§‚ç•Œé¢**: åŠé€æ˜é»‘è‰²èƒŒæ™¯ï¼Œé«˜å¯¹æ¯”åº¦æ˜¾ç¤º
- ğŸ”„ **è‡ªåŠ¨æ›´æ–°**: æ¯å°æ—¶è‡ªåŠ¨åŒæ­¥ä¸€æ¬¡ç½‘ç»œæ—¶é—´
- ğŸ“± **è·¨å¹³å°**: åŒæ—¶æ”¯æŒ Android å’Œ iOS å¹³å°
- ğŸš€ **é«˜æ€§èƒ½**: ä½¿ç”¨ React Native å’ŒåŸç”Ÿä»£ç ä¼˜åŒ–
- ğŸ”‹ **çœç”µæ¨¡å¼**: æ™ºèƒ½æ›´æ–°ç­–ç•¥ï¼Œé™ä½ç”µé‡æ¶ˆè€—

## ğŸ¯ é€‚ç”¨åœºæ™¯

- éœ€è¦ç²¾ç¡®è®¡æ—¶çš„åœºåˆ
- å¼€å‘è°ƒè¯•æ—¶æŸ¥çœ‹ç²¾ç¡®æ—¶é—´
- ç›´æ’­ã€å½•åˆ¶ç­‰éœ€è¦æ—¶é—´æˆ³çš„åœºæ™¯
- è€ƒè¯•ã€æ¯”èµ›ç­‰ä¸¥æ ¼è®¡æ—¶çš„æ´»åŠ¨

## ğŸ“¸ åº”ç”¨æˆªå›¾

<div align="center">
  <img src="docs/images/screenshot-android.png" width="300" alt="Android æˆªå›¾" />
  <img src="docs/images/screenshot-ios.png" width="300" alt="iOS æˆªå›¾" />
</div>

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

ç¡®ä¿ä½ çš„å¼€å‘ç¯å¢ƒå·²å®‰è£…ä»¥ä¸‹å·¥å…·ï¼š

- Node.js >= 18
- npm >= 9
- React Native å¼€å‘ç¯å¢ƒ

**Android å¼€å‘éœ€è¦ï¼š**
- JDK 17
- Android Studio
- Android SDK (API 34)

**iOS å¼€å‘éœ€è¦ï¼š**
- macOS æ“ä½œç³»ç»Ÿ
- Xcode 15+
- CocoaPods

### å®‰è£…æ­¥éª¤

1. **å…‹éš†ä»“åº“**

```bash
git clone https://github.com/yourusername/floating-time.git
cd floating-time
```

2. **å®‰è£…ä¾èµ–**

```bash
npm install
```

3. **iOS é¢å¤–æ­¥éª¤**ï¼ˆä»… macOSï¼‰

```bash
cd ios
pod install
cd ..
```

### è¿è¡Œåº”ç”¨

**Android:**

```bash
npm run android
```

**iOS:**ï¼ˆä»… macOSï¼‰

```bash
npm run ios
```

## ğŸ”¨ æ„å»ºæŒ‡å—

è¯¦ç»†çš„æ„å»ºè¯´æ˜è¯·å‚è€ƒ [DEPLOYMENT.md](DEPLOYMENT.md)

### å¿«é€Ÿæ„å»º

**æ„å»º Android APK:**

```bash
cd android
./gradlew assembleRelease
```

ç”Ÿæˆçš„ APK ä½äº: `android/app/build/outputs/apk/release/app-release.apk`

**æ„å»º iOS IPA:**ï¼ˆéœ€è¦ macOSï¼‰

```bash
cd ios
xcodebuild -workspace FloatingTime.xcworkspace \
  -scheme FloatingTime \
  -configuration Release \
  -archivePath build/FloatingTime.xcarchive \
  archive
```

## ğŸ¤– GitHub Actions è‡ªåŠ¨æ„å»º

æœ¬é¡¹ç›®å·²é…ç½® GitHub Actionsï¼Œå¯è‡ªåŠ¨æ„å»º Android å’Œ iOS ç‰ˆæœ¬ã€‚

### è§¦å‘æ„å»º

1. **æ¨é€ä»£ç åˆ°ä¸»åˆ†æ”¯**
   ```bash
   git push origin main
   ```

2. **åˆ›å»ºå‘å¸ƒæ ‡ç­¾**
   ```bash
   git tag v1.0.0
   git push origin v1.0.0
   ```

3. **æ‰‹åŠ¨è§¦å‘**
   - è¿›å…¥ GitHub ä»“åº“çš„ Actions é¡µé¢
   - é€‰æ‹© "æ„å»º Android å’Œ iOS" workflow
   - ç‚¹å‡» "Run workflow"

### ä¸‹è½½æ„å»ºäº§ç‰©

- åœ¨ Actions é¡µé¢æ‰¾åˆ°å¯¹åº”çš„ workflow è¿è¡Œè®°å½•
- ä¸‹è½½ `android-release` æˆ– `ios-release` äº§ç‰©
- æ ‡ç­¾æ¨é€ä¼šè‡ªåŠ¨åˆ›å»º GitHub Release

## ğŸ“– æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

- **æ¡†æ¶**: React Native 0.73
- **è¯­è¨€**: TypeScript
- **çŠ¶æ€ç®¡ç†**: React Hooks
- **åŠ¨ç”»**: React Native Reanimated
- **æ‰‹åŠ¿**: React Native Gesture Handler
- **ç½‘ç»œè¯·æ±‚**: Axios

### é¡¹ç›®ç»“æ„

```
floating-time/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ TimeSync.ts          # æ—¶é—´åŒæ­¥æœåŠ¡
â”‚   â””â”€â”€ components/               # UI ç»„ä»¶ï¼ˆæœªæ¥æ‰©å±•ï¼‰
â”œâ”€â”€ android/                      # Android åŸç”Ÿä»£ç 
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ src/main/
â”‚   â”‚   â”‚   â”œâ”€â”€ java/com/floatingtime/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MainActivity.kt
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MainApplication.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ AndroidManifest.xml
â”‚   â”‚   â”‚   â””â”€â”€ res/
â”‚   â”‚   â””â”€â”€ build.gradle
â”‚   â””â”€â”€ build.gradle
â”œâ”€â”€ ios/                          # iOS åŸç”Ÿä»£ç 
â”‚   â”œâ”€â”€ FloatingTime/
â”‚   â”‚   â”œâ”€â”€ AppDelegate.h
â”‚   â”‚   â”œâ”€â”€ AppDelegate.mm
â”‚   â”‚   â”œâ”€â”€ Info.plist
â”‚   â”‚   â””â”€â”€ main.m
â”‚   â””â”€â”€ Podfile
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ build.yml             # GitHub Actions é…ç½®
â”œâ”€â”€ App.tsx                       # åº”ç”¨å…¥å£
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

### æ—¶é—´åŒæ­¥åŸç†

1. **å¤šæœåŠ¡å™¨ç­–ç•¥**: åŒæ—¶è¯·æ±‚å¤šä¸ªæ—¶é—´æœåŠ¡å™¨
2. **å»¶è¿Ÿè¡¥å¿**: è®¡ç®—ç½‘ç»œå¾€è¿”æ—¶é—´ï¼ˆRTTï¼‰å¹¶è¡¥å¿
3. **å¹³å‡å€¼ç®—æ³•**: å–å¤šä¸ªæœåŠ¡å™¨æ—¶é—´çš„å¹³å‡å€¼
4. **ç²¾åº¦è®¡ç®—**: é€šè¿‡æ ‡å‡†å·®è¯„ä¼°æ—¶é—´ç²¾åº¦
5. **å®šæœŸåŒæ­¥**: æ¯å°æ—¶è‡ªåŠ¨é‡æ–°åŒæ­¥ä¸€æ¬¡

æ”¯æŒçš„æ—¶é—´æœåŠ¡å™¨ï¼š
- WorldTimeAPI (worldtimeapi.org)
- TimeAPI (timeapi.io)

## âš™ï¸ é…ç½®è¯´æ˜

### ä¿®æ”¹åŒæ­¥é—´éš”

ç¼–è¾‘ `src/services/TimeSync.ts`:

```typescript
private syncInterval: number = 3600000; // 1å°æ—¶ = 3600000ms
```

### æ·»åŠ è‡ªå®šä¹‰æ—¶é—´æœåŠ¡å™¨

ç¼–è¾‘ `src/services/TimeSync.ts`:

```typescript
private timeServers = [
  'https://worldtimeapi.org/api/timezone/Asia/Shanghai',
  'https://your-custom-server.com/api/time',
];
```

### è‡ªå®šä¹‰ UI æ ·å¼

ç¼–è¾‘ `App.tsx` ä¸­çš„ `styles` å¯¹è±¡ã€‚

## ğŸ” æƒé™è¯´æ˜

### Android

- `INTERNET`: ç”¨äºåŒæ­¥ç½‘ç»œæ—¶é—´
- `SYSTEM_ALERT_WINDOW`: ç”¨äºæ˜¾ç¤ºæ‚¬æµ®çª—å£
- `ACCESS_NETWORK_STATE`: æ£€æŸ¥ç½‘ç»œè¿æ¥çŠ¶æ€

### iOS

- ç½‘ç»œè®¿é—®æƒé™ï¼ˆè‡ªåŠ¨æˆäºˆï¼‰
- æ— éœ€é¢å¤–æƒé™é…ç½®

## ğŸ› å¸¸è§é—®é¢˜

### Android æ‚¬æµ®çª—ä¸æ˜¾ç¤ºï¼Ÿ

ç¡®ä¿å·²æˆäºˆåº”ç”¨"æ‚¬æµ®çª—æƒé™"ï¼š
1. æ‰“å¼€ç³»ç»Ÿè®¾ç½®
2. åº”ç”¨ç®¡ç† â†’ æ‚¬æµ®æ—¶é—´
3. æƒé™ â†’ æ‚¬æµ®çª— â†’ å…è®¸

### æ—¶é—´åŒæ­¥å¤±è´¥ï¼Ÿ

1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. ç¡®è®¤é˜²ç«å¢™æœªå±è”½æ—¶é—´æœåŠ¡å™¨
3. æŸ¥çœ‹åº”ç”¨æ—¥å¿—è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯

### iOS æ„å»ºå¤±è´¥ï¼Ÿ

1. ç¡®ä¿å·²è¿è¡Œ `pod install`
2. æ¸…ç†æ„å»ºç¼“å­˜: `cd ios && xcodebuild clean`
3. æ›´æ–° CocoaPods: `pod repo update`

### GitHub Actions æ„å»ºå¤±è´¥ï¼Ÿ

1. æ£€æŸ¥ workflow æ—¥å¿—æŸ¥çœ‹å…·ä½“é”™è¯¯
2. ç¡®è®¤ Node.js ç‰ˆæœ¬å…¼å®¹
3. iOS æ„å»ºéœ€è¦ macOS runner

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Š Bug æˆ–æå‡ºæ–°åŠŸèƒ½å»ºè®®ï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ MIT åè®®å¼€æº - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ‘¨â€ğŸ’» ä½œè€…

**Your Name**

- GitHub: [@yourusername](https://github.com/yourusername)

## ğŸ™ è‡´è°¢

- [React Native](https://reactnative.dev/) - è·¨å¹³å°ç§»åŠ¨åº”ç”¨æ¡†æ¶
- [WorldTimeAPI](http://worldtimeapi.org/) - å…è´¹çš„æ—¶é—´ API æœåŠ¡
- [React Native Reanimated](https://docs.swmansion.com/react-native-reanimated/) - é«˜æ€§èƒ½åŠ¨ç”»åº“

## ğŸ“® è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·ï¼š
- æäº¤ [Issue](https://github.com/yourusername/floating-time/issues)
- å‘é€é‚®ä»¶è‡³: your.email@example.com

---

<div align="center">
  Made with â¤ï¸ by developers, for developers
</div>
